<svg xmlns="http://www.w3.org/2000/svg" width="1500" height="550">
<defs>
  <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
    <polygon points="0 0, 10 3.5, 0 7" />
  </marker>
  <marker id="arrow-dashed" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
    <polygon points="0 0, 10 3.5, 0 7" />
  </marker>
</defs>
<rect x="100" y="80" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="175.0" y="100" text-anchor="middle" font-family="Arial" font-size="12">App Shell</text>
<rect x="100" y="160" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="175.0" y="180" text-anchor="middle" font-family="Arial" font-size="12">Pilet 1</text>
<rect x="100" y="240" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="175.0" y="260" text-anchor="middle" font-family="Arial" font-size="12">Pilet 2</text>
<rect x="100" y="320" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="175.0" y="340" text-anchor="middle" font-family="Arial" font-size="12">Pilet N</text>
<rect x="100" y="400" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="175.0" y="420" text-anchor="middle" font-family="Arial" font-size="12">Service Worker Cache</text>
<rect x="400" y="80" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="475.0" y="100" text-anchor="middle" font-family="Arial" font-size="12">Front Door</text>
<text x="475.0" y="116" text-anchor="middle" font-family="Arial" font-size="12">(Global Entry Point)</text>
<rect x="400" y="180" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="475.0" y="200" text-anchor="middle" font-family="Arial" font-size="12">Web Application Firewall</text>
<rect x="400" y="280" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="475.0" y="300" text-anchor="middle" font-family="Arial" font-size="12">Routing Rules</text>
<rect x="700" y="120" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="775.0" y="140" text-anchor="middle" font-family="Arial" font-size="12">App Shell</text>
<text x="775.0" y="156" text-anchor="middle" font-family="Arial" font-size="12">Static Web App</text>
<rect x="700" y="260" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="775.0" y="280" text-anchor="middle" font-family="Arial" font-size="12">Feed Service</text>
<text x="775.0" y="296" text-anchor="middle" font-family="Arial" font-size="12">Static Web App</text>
<rect x="1000" y="120" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="1075.0" y="140" text-anchor="middle" font-family="Arial" font-size="12">Pilet Storage</text>
<text x="1075.0" y="156" text-anchor="middle" font-family="Arial" font-size="12">Container 1</text>
<rect x="1000" y="220" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="1075.0" y="240" text-anchor="middle" font-family="Arial" font-size="12">Pilet Storage</text>
<text x="1075.0" y="256" text-anchor="middle" font-family="Arial" font-size="12">Container 2</text>
<rect x="1000" y="320" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="1075.0" y="340" text-anchor="middle" font-family="Arial" font-size="12">CDN Endpoint</text>
<rect x="1300" y="120" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="1375.0" y="140" text-anchor="middle" font-family="Arial" font-size="12">API Gateway</text>
<rect x="1300" y="220" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="1375.0" y="240" text-anchor="middle" font-family="Arial" font-size="12">Auth Service</text>
<rect x="1300" y="320" width="150" height="60" rx="6" ry="6" fill="white" stroke="black"/>
<text x="1375.0" y="340" text-anchor="middle" font-family="Arial" font-size="12">Feed Service API</text>
<line x1="250" y1="110.0" x2="400" y2="110.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<text x="325.0" y="105.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Initial Load</text>
<line x1="550" y1="110.0" x2="400" y2="210.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<line x1="550" y1="210.0" x2="400" y2="310.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<line x1="550" y1="310.0" x2="700" y2="150.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<text x="625.0" y="225.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Route /</text>
<line x1="550" y1="310.0" x2="1300" y2="350.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<text x="925.0" y="325.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Route /api/feed</text>
<line x1="550" y1="310.0" x2="1300" y2="150.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<text x="925.0" y="225.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Route /api/*</text>
<line x1="250" y1="110.0" x2="1300" y2="350.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<text x="775.0" y="225.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Fetch Pilet Registry</text>
<line x1="1450" y1="350.0" x2="100" y2="110.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<text x="775.0" y="225.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Return Pilet Metadata</text>
<line x1="250" y1="110.0" x2="1000" y2="350.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<text x="625.0" y="225.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Load Pilets</text>
<line x1="1150" y1="350.0" x2="1000" y2="150.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<line x1="1150" y1="350.0" x2="1000" y2="250.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<line x1="250" y1="190.0" x2="1000" y2="350.0" style="stroke:black;stroke-width:1;stroke-dasharray:5,5" marker-end="url(#arrow-dashed)" />
<text x="625.0" y="265.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Lazy Load</text>
<line x1="250" y1="270.0" x2="1000" y2="350.0" style="stroke:black;stroke-width:1;stroke-dasharray:5,5" marker-end="url(#arrow-dashed)" />
<text x="625.0" y="305.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Lazy Load</text>
<line x1="250" y1="350.0" x2="1000" y2="350.0" style="stroke:black;stroke-width:1;stroke-dasharray:5,5" marker-end="url(#arrow-dashed)" />
<text x="625.0" y="345.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Lazy Load</text>
<line x1="250" y1="430.0" x2="100" y2="110.0" style="stroke:black;stroke-width:1;stroke-dasharray:5,5" marker-end="url(#arrow-dashed)" />
<text x="175.0" y="265.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Offline Support</text>
<line x1="250" y1="430.0" x2="100" y2="190.0" style="stroke:black;stroke-width:1;stroke-dasharray:5,5" marker-end="url(#arrow-dashed)" />
<text x="175.0" y="305.0" text-anchor="middle" font-family="Arial" font-size="11" fill="black">Cached Pilets</text>
<line x1="1450" y1="150.0" x2="1300" y2="250.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<line x1="1450" y1="350.0" x2="1000" y2="150.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
<line x1="1450" y1="350.0" x2="1000" y2="250.0" style="stroke:black;stroke-width:1" marker-end="url(#arrow)" />
</svg>